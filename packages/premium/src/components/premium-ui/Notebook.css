/* =========================================================
   Notebook Component â€” Token-Driven & Responsive
   ========================================================= */

.notebook {
  /* ---------- Core sizing ---------- */
  --nb-width: clamp(20rem, 55vw, 30rem);
  --nb-ratio: 4 / 5;

  /* ---------- Layout tokens ---------- */
  --nb-padding: 1.25em;
  --nb-binding-size: 3.5em;
  --nb-margin-offset: 3.5em;

  /* ---------- Typography ---------- */
  font-size: clamp(0.9rem, 1vw, 1rem);
  line-height: 1.6;

  @apply relative bg-white rounded-lg border border-gray-200;
  width: var(--nb-width);
  aspect-ratio: var(--nb-ratio);

  box-shadow:
    0 0.6em 0.9em -0.3em rgba(0, 0, 0, 0.1),
    0 0.25em 0.4em -0.15em rgba(0, 0, 0, 0.05);
}

/* ---------- Size Variants ---------- */

.notebook-sm { --nb-width: clamp(16rem, 45vw, 22rem); }
.notebook-md { --nb-width: clamp(20rem, 55vw, 30rem); }
.notebook-lg { --nb-width: clamp(24rem, 65vw, 38rem); }
.notebook-xl { --nb-width: clamp(28rem, 75vw, 48rem); }

/* ---------- Cover & Spine ---------- */

.notebook-cover {
  @apply absolute inset-0 pointer-events-none;
}

.notebook-spine {
  @apply absolute bg-gray-200;
}

/* Binding Positions */

.notebook-binding-left .notebook-spine {
  inset: 0 auto 0 0;
  width: var(--nb-binding-size);
}

.notebook-binding-right .notebook-spine {
  inset: 0 0 0 auto;
  width: var(--nb-binding-size);
}

.notebook-binding-top .notebook-spine {
  inset: 0 0 auto 0;
  height: var(--nb-binding-size);
}

/* ---------- Spiral / Ring Systems ---------- */

.notebook-spiral .notebook-spiral,
.notebook-ring .notebook-rings,
.notebook-composition .notebook-stitching,
.notebook-leather .notebook-stitching {
  @apply flex flex-col justify-around h-full;
  padding: 0.75em 0;
}

/* Spiral Rings */

.spiral-ring {
  width: 2em;
  height: 0.8em;
  border: 0.15em solid #9ca3af;
  border-radius: 999px;
  background: linear-gradient(45deg, #ccc, #999);
  box-shadow: inset 1px 1px 2px rgba(0,0,0,0.2);
}

/* Metal Rings */

.ring {
  width: 2.2em;
  height: 2.2em;
  border: 0.3em solid #6b7280;
  border-radius: 999px;
  background: radial-gradient(circle at 30% 30%, #ddd, #aaa);
  box-shadow: inset 2px 2px 4px rgba(0,0,0,0.3);
}

/* Stitching */

.stitch {
  width: 0.3em;
  height: 0.9em;
  background: #6b7280;
  border-radius: 999px;
  margin-inline: auto;
}

/* ---------- Style Variants ---------- */

.notebook-composition {
  @apply bg-gray-100;
  background-image:
    repeating-linear-gradient(
      45deg,
      rgba(0,0,0,0.05),
      rgba(0,0,0,0.05) 1px,
      transparent 1px,
      transparent 0.6em
    );
}

.notebook-leather {
  @apply bg-amber-50;
  background-image:
    radial-gradient(circle at 2px 2px, rgba(139,69,19,0.12) 1px, transparent 0),
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 0.25em,
      rgba(139,69,19,0.05) 0.25em,
      rgba(139,69,19,0.05) 0.5em
    );
  background-size: 0.9em 0.9em, 100% 0.75em;
}

/* ---------- Tabs ---------- */

.notebook-tabs {
  @apply absolute top-0 right-4 flex gap-1 z-10;
}

.notebook-binding-top .notebook-tabs {
  top: calc(var(--nb-binding-size) + 0.25em);
}

.notebook-tab {
  @apply bg-white border border-gray-300 rounded-t-md transition-all duration-200;
  padding: 0.4em 0.8em;
  font-size: 0.85em;
  transform: translateY(0.2em);
}

.notebook-tab.active {
  @apply text-gray-900 border-b-white;
  transform: translateY(0);
  z-index: 10;
}

.notebook-tab.disabled {
  @apply opacity-50 cursor-not-allowed;
}

/* ---------- Content ---------- */

.notebook-content {
  @apply relative h-full;
  padding: var(--nb-padding);
}

.notebook-binding-left .notebook-content {
  padding-left: calc(var(--nb-binding-size) + var(--nb-padding));
}

.notebook-binding-right .notebook-content {
  padding-right: calc(var(--nb-binding-size) + var(--nb-padding));
}

.notebook-binding-top .notebook-content {
  padding-top: calc(var(--nb-binding-size) + var(--nb-padding));
}

/* ---------- Page ---------- */

.notebook-page {
  @apply relative h-full bg-white;
}

.notebook-margin {
  @apply absolute top-0 bottom-0 border-l-2 border-red-300;
  left: var(--nb-margin-offset);
}

.notebook-binding-top .notebook-margin {
  left: 0;
  right: 0;
  top: var(--nb-margin-offset);
  height: 0;
  border-left: 0;
  border-top: 2px solid;
}

/* ---------- Lines ---------- */

.notebook-lines-ruled .notebook-page {
  background-image: repeating-linear-gradient(
    transparent,
    transparent 1lh,
    #e5e7eb 1lh,
    #e5e7eb calc(1lh + 1px)
  );
}

.notebook-lines-dotted .notebook-page {
  background-image:
    radial-gradient(circle at 1.2em 1.4em, #d1d5db 1px, transparent 1px);
  background-size: 1.2em 1.6em;
}

.notebook-lines-grid .notebook-page {
  background-image:
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 1lh,
      #e5e7eb 1lh,
      #e5e7eb calc(1lh + 1px)
    ),
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 1lh,
      #e5e7eb 1lh,
      #e5e7eb calc(1lh + 1px)
    );
}

/* ---------- Page Content ---------- */

.notebook-page-content {
  @apply h-full overflow-y-auto;
  padding:
    1em
    1em
    2em
    calc(var(--nb-margin-offset) + 1em);
}

/* ---------- Page Number ---------- */

.notebook-page-number {
  @apply absolute bottom-4 right-4 text-xs text-gray-500;
}

/* ---------- Interactive ---------- */

.notebook-interactive:hover {
  transform: translateY(-0.15em);
  box-shadow:
    0 0.9em 1.4em -0.3em rgba(0, 0, 0, 0.15),
    0 0.4em 0.6em -0.2em rgba(0, 0, 0, 0.08);
}
